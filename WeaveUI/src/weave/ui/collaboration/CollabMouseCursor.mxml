<?xml version="1.0" encoding="utf-8"?>
<mx:Canvas xmlns:mx="http://www.adobe.com/2006/mxml" 
		   width="18" height="24">	
	
	<mx:Move id="moveEvent" 
			 xFrom="{xFrom}" xTo="{xTo}"
			 yFrom="{yFrom}" yTo="{yTo}"
			 />
	
	<mx:Script>
		<![CDATA[
			import mx.managers.PopUpManager;
			
			private var vertices:Array =
				[
					[ 0, 16 ],
					[ 1, 16 ],
					[ 4, 13 ],
					[ 8, 20 ],
					[ 9, 20 ],
					[ 10, 19 ],
					[ 7, 12 ],
					[ 11, 12 ],
					[ 11, 11 ],
					[ 0, 0 ]
				];
			private var filtersArray:Array;
			private var cursor:CollabMouseCursor;
			
			[Bindable] public var xFrom:Number = 0;
			[Bindable] public var xTo:Number = 0;
			[Bindable] public var yFrom:Number = 0;
			[Bindable] public var yTo:Number = 0;
			
			override protected function createChildren():void
			{
				super.createChildren();
			}
			public function setCursorColor(color:uint):void
			{
				graphics.clear();
				graphics.lineStyle(1, color, 1.0, true);
				graphics.moveTo(0, 0);
				graphics.beginFill( color, 1 );
				for each( var vertex:Array in vertices )
					graphics.lineTo(vertex[0], vertex[1]);
					
				graphics.endFill();
				
				var glow:GlowFilter = new GlowFilter();
				glow.color = 0xFF0000;
				glow.alpha = 1;
				glow.blurX = 10;
				glow.blurY = 10;
				
				filtersArray = new Array( glow );
				//this.filters = filtersArray;
			}
			public function addPopUp(parent:DisplayObject, color:uint):CollabMouseCursor
			{
				cursor = PopUpManager.createPopUp(parent, CollabMouseCursor) as CollabMouseCursor;
				PopUpManager.centerPopUp(cursor);
				cursor.setCursorColor(color);
				
				return cursor;
			}
			public function removePopUp():void
			{
				PopUpManager.removePopUp(cursor);
			}
		]]>
	</mx:Script>
</mx:Canvas>
